import{r as c,j as t,i as y,B as i}from"./index-94338d41.js";import{a as N}from"./Config-0cd071a0.js";const k={submitContactForm:async r=>{try{return(await N.post("/contact/submit",r)).data}catch(a){throw a.response?{status:a.response.data.status,message:a.response.data.message,error:a.response.data.error}:{status:"error",message:"Network error. Please check your connection."}}}},C=()=>{const r=c.useRef({name:"",email:"",subject:"",message:"",phone:""}),[a,l]=c.useState({}),[m,d]=c.useState(!1),g="+233548151982",p="Hello, I would like to get in touch with Delkom Charity Foundation.",x=()=>{const s={},e=r.current;e.name.trim()?e.name.length<2&&(s.name="Name must be at least 2 characters long"):s.name="Name is required";const n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.email.trim()?n.test(e.email)||(s.email="Please enter a valid email address"):s.email="Email is required",e.subject.trim()?e.subject.length<3&&(s.subject="Subject must be at least 3 characters long"):s.subject="Subject is required",e.message.trim()?e.message.length<10&&(s.message="Message must be at least 10 characters long"):s.message="Message is required",e.phone&&!/^[0-9+]{10,}$/.test(e.phone)&&(s.phone="Please enter a valid phone number"),l(s),Object.keys(s).length===0},u=s=>{const{name:e,value:n}=s.target;r.current[e]=n,a[e]&&l({...a,[e]:""})},b=()=>{const s=encodeURIComponent(p),e=`https://wa.me/${g}?text=${s}`;window.open(e,"_blank")},f=()=>{const s=document.getElementById("contactForm");s&&s.reset(),r.current={name:"",email:"",subject:"",message:"",phone:""}},j=async s=>{if(s.preventDefault(),!x()){i.error("Please fix the errors in the form");return}d(!0);try{const e=await k.submitContactForm(r.current);e.status==="success"&&(i.success(e.message),f(),l({}))}catch(e){console.error("Error sending message:",e),i.error(e.error||e.message||"Failed to send message. Please try again.")}finally{d(!1)}},o=(s,e,n,w,h=!0)=>t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:e,children:[n," ",h&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:s,name:e,id:e,defaultValue:r.current[e],onChange:u,required:h,className:`shadow appearance-none border ${a[e]?"border-red-500":"border-gray-300"} rounded w-full py-2 px-3 text-gray-700 leading-tight
        focus:outline-none focus:ring-2 focus:ring-darkShade focus:border-transparent
        transition-all duration-200 ease-in-out`,placeholder:w}),a[e]&&t.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:a[e]})]});return t.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-bgDark py-12",children:t.jsxs("div",{className:"w-[90%] md:w-[80%] mx-auto",children:[t.jsxs("h1",{className:"text-3xl font-bold text-primary mb-6 text-center",children:["Contact ",t.jsx("span",{className:"text-darkYellow",children:"Us"})]}),t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("button",{onClick:b,className:"flex items-center gap-2 bg-green-500 text-white py-2 px-4 rounded-lg mb-6 hover:bg-green-600 transition-colors",children:[t.jsx(y,{className:"text-xl"}),"Chat on WhatsApp"]}),t.jsxs("form",{id:"contactForm",onSubmit:j,className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 w-full max-w-lg",children:[o("text","name","Name","Your Name"),o("email","email","Email","Your Email"),o("tel","phone","Phone Number","Your Phone Number",!1),o("text","subject","Subject","Subject"),t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"message",children:["Message ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{name:"message",id:"message",defaultValue:r.current.message,onChange:u,required:!0,className:`shadow appearance-none border ${a.message?"border-red-500":"border-gray-300"} rounded w-full py-2 px-3 text-gray-700 leading-tight
                focus:outline-none focus:ring-2 focus:ring-darkShade focus:border-transparent
                transition-all duration-200 ease-in-out`,placeholder:"Your Message",rows:"4"}),a.message&&t.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:a.message})]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("button",{type:"submit",disabled:m,className:"bg-black hover:bg-gray-800 text-primary font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50",children:m?"Sending...":"Send Message"})})]})]})]})})};export{C as default};
