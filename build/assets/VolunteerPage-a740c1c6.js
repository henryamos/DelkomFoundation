import{j as e,r,l as R,B as w}from"./index-db6e0208.js";import{a as S}from"./Config-0cd071a0.js";import{P as m}from"./index-9f05bd38.js";const q=async o=>{var a,t,i,c;try{return await S.post("/volunteers",o)}catch(l){throw console.error("Volunteer submission error:",{status:(a=l.response)==null?void 0:a.status,message:((i=(t=l.response)==null?void 0:t.data)==null?void 0:i.message)||l.message,url:(c=l.config)==null?void 0:c.url}),l}},X=({isOpen:o,email:a,onClose:t})=>{const i=()=>{t==null||t();const c="https://delkomcharityfoundation.com/";window.location.href=c};return o?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6 text-center",children:[e.jsx("div",{className:"text-green-500 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-lg font-semibold mb-2 text-green-600",children:"Registration Successful!"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Thank you for registering as a volunteer. A confirmation email has been sent to"," ",e.jsx("span",{className:"font-semibold",children:a}),". Please check your inbox for further instructions."]}),e.jsxs("div",{className:"flex space-x-4 justify-center",children:[e.jsx("button",{onClick:i,className:`bg-dark text-white py-2 px-4 rounded-md \r
                                 hover:bg-darkYellow hover:text-dark transition-colors`,children:"Go to Home"}),e.jsx("button",{onClick:t,className:`border border-dark text-dark py-2 px-4 rounded-md \r
                                 hover:bg-gray-100 transition-colors`,children:"Stay Here"})]})]})}):null};X.propTypes={isOpen:m.bool.isRequired,email:m.string.isRequired,onClose:m.func.isRequired};const T=()=>{const[o,a]=r.useState(!1),[t,i]=r.useState(!1),[c,l]=r.useState(""),u=r.useRef(),x=r.useRef(),p=r.useRef(),h=r.useRef(),f=r.useRef(),b=r.useRef(),g=r.useRef(),y=r.useRef(),k=async s=>{var v;s.preventDefault(),a(!0);const j=Array.from(document.querySelectorAll('input[name="programs"]:checked')).map(n=>n.value);if(j.length===0){w.error("Please select at least one program"),a(!1);return}const N={fullName:u.current.value,email:x.current.value,primaryContact:p.current.value,whatsappContact:h.current.value,residence:f.current.value,selectedPrograms:j,reasonForVolunteering:b.current.value,heardFrom:g.current.value,pledgeCommitment:y.current.value==="yes"};try{(await q(N)).status===201&&(l(N.email),i(!0),s.target.reset())}catch(n){console.error("Form submission error:",n);let d="An error occurred while submitting the form.";n.response?d=((v=n.response.data)==null?void 0:v.message)||`Server error: ${n.response.status}`:n.request&&(d="No response from server. Please check your connection."),w.error(d)}finally{a(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md",children:[e.jsxs("div",{className:"bg-dark text-white p-8 rounded-t-lg",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:R,alt:"Delkom Logo",className:"h-24 w-auto"})}),e.jsx("h1",{className:"text-2xl font-bold text-center",children:"DELKOM CHARITY FOUNDATION"}),e.jsx("h2",{className:"text-xl text-center mt-2",children:"VOLUNTEERS REGISTRATION FORM"}),e.jsx("p",{className:"text-center mt-4",children:"Thank you for choosing to volunteer with us!"})]}),e.jsxs("form",{onSubmit:k,className:"p-8 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Volunteer's Full name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,ref:u,pattern:"^[A-Za-z\\s]{2,}$",title:"Please enter a valid name (letters and spaces only)",placeholder:"Enter your full name",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",required:!0,ref:x,placeholder:"example@email.com",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",title:"Please enter a valid email address",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Primary Contact ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",required:!0,ref:p,placeholder:"+233 XX XXX XXXX",pattern:"^\\+233[0-9]{9}$",title:"Please enter a valid Ghanaian phone number starting with +233",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: +233XXXXXXXXX"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["WhatsApp Contact ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",required:!0,ref:h,placeholder:"+233 XX XXX XXXX",pattern:"^\\+233[0-9]{9}$",title:"Please enter a valid Ghanaian phone number starting with +233",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: +233XXXXXXXXX"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Place Of Residence (currently) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,ref:f,pattern:"^[A-Za-z\\s,]{2,}$",title:"Please enter a valid location (letters, spaces, and commas only)",placeholder:"City, Region",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Which of our programs would you like to volunteer to? ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"space-y-2",children:["Mentoring / Coaching Session & Sensitization","Tech Drive (ICT training)","Christmas Outreach"].map(s=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",name:"programs",value:s,className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),e.jsxs("label",{className:"ml-2 text-sm text-gray-700",children:[s,s==="Mentoring / Coaching Session & Sensitization"&&" (first quarter ie. within Jan - April)",s==="Tech Drive (ICT training)"&&" (second quarter ie. within May - Aug)",s==="Christmas Outreach"&&" (third quarter ie. December)"]})]},s))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select at least one program"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Why do you wish to volunteer with us? ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{required:!0,ref:b,minLength:"20",placeholder:"Please share your motivation for volunteering (minimum 20 characters)",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",rows:"4"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["How did you hear about us? ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"space-y-2",children:["social media","family /friends","others"].map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"hearAboutUs",value:s,required:!0,ref:s==="social media"?g:null,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"}),e.jsx("label",{className:"ml-2 text-sm text-gray-700",children:s})]},s))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Do you pledge to adhere to all commitment of Delkom charity foundation? (especially volunteers financial commitment) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"space-y-2",children:["yes","no"].map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"pledge",value:s,required:!0,ref:s==="yes"?y:null,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"}),e.jsx("label",{className:"ml-2 text-sm text-gray-700",children:s})]},s))})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:o,className:`w-full bg-dark text-white py-2 px-4 rounded-md hover:bg-darkYellow focus:outline-none focus:ring-2 focus:ring-lightYellow hover:text-dark focus:ring-offset-2 ${o?"opacity-50 cursor-not-allowed":""}`,children:o?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"w-5 h-5 border-t-2 border-b-2 border-white rounded-full animate-spin mr-2"}),"Submitting..."]}):"Submit"})})]})]})}),e.jsx(X,{isOpen:t,email:c,onClose:()=>i(!1)})]})};export{T as default};
